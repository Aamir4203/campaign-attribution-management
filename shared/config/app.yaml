# CAM Application Configuration
# Complete configuration for Campaign Attribution Management application

# Database Configuration
database:
  host: "zds-prod-pgdb01-01.bo3.e-dialog.com"
  port: 5432
  database: "apt_tool_db"
  username: "datateam"
  password: "Datat3amSU!"
  tables:
    clients: "APT_CUSTOM_CLIENT_INFO_TABLE_DND"
    requests: "APT_CUSTOM_POSTBACK_REQUEST_DETAILS_DND_TEST"
    qa_stats: "APT_CUSTOM_POSTBACK_QA_TABLE_DND"
    tracking: "APT_CUSTOM_REQUEST_PROCESS_TRACKING_DND"
    hards: "APT_CUSTOM_EOS_INVALIDS_DND"
    unsubs: "APT_CUSTOM_UNSUB_DETAILS_DND"
    old_ips: "APT_CUSTOM_VERIZON_IPS_USED_DND"
    new_ips: "APT_CUSTOM_VERIZON_NEW_IPS_DND"
    delivered: "apt_custom_partitioned_delivered_data_impala"
    users: "apt_custom_apt_tool_user_details_dnd"
  pools:
    min_size: 5
    max_size: 20
    timeout: 30000

# External Database Connections (for backend processing)
external_databases:
  snowflake:
    connection_string: "snowsql -c datateam1"
  presto:
    host: "zdl3-mn03.bo3.e-dialog.com"
    port: 8081
    connection_string: "presto --server zdl3-mn03.bo3.e-dialog.com:8081 --session query_max_execution_time=3.00h --catalog hive --schema zx_tenant_database --user zx_tenant"
  impala:
    host: "10.100.76.250"
    port: 21001
    connection_string: "impala-shell -i 10.100.76.250:21001 -u zx_tenant -d zx_tenant --protocol=beeswax -Q EXEC_TIME_LIMIT_S=7200 --quiet"
  pgdb2:
    host: "zds-prod-pgdb02-01.bo3.e-dialog.com"
    database: "arcamax_db"
    connection_string: "psql -U datateam -h zds-prod-pgdb02-01.bo3.e-dialog.com -d arcamax_db"
  orange:
    host: "cmprep-prod-ro-02-vip.bo3.e-dialog.com"
    database: "mt2_data"
    username: "cmp_cust_user"
    password: "Cmp12cst01!!"
    connection_string: "mysql mt2_data -h cmprep-prod-ro-02-vip.bo3.e-dialog.com -u cmp_cust_user -pCmp12cst01!!"

# File System Paths (Unix environment paths for backend processing)
file_paths:
  main_path: "/u1/techteam/PFM_CUSTOM_SCRIPTS/APT_TOOL_DB"
  main_scripts: "/u1/techteam/PFM_CUSTOM_SCRIPTS/APT_TOOL_DB/SCRIPTS"
  home_path: "/u1/techteam/PFM_CUSTOM_SCRIPTS/APT_TOOL_DB/REQUEST_PROCESSING"
  files_path: "/u1/techteam/PFM_CUSTOM_SCRIPTS/APT_TOOL_DB/REQUEST_PROCESSING/{request_id}/FILES/"
  spool_path: "/u1/techteam/PFM_CUSTOM_SCRIPTS/APT_TOOL_DB/REQUEST_PROCESSING/{request_id}/SPOOL/"
  script_path: "/u1/techteam/PFM_CUSTOM_SCRIPTS/APT_TOOL_DB/REQUEST_PROCESSING/{request_id}/SCRIPTS/"
  log_path: "/u1/techteam/PFM_CUSTOM_SCRIPTS/APT_TOOL_DB/REQUEST_PROCESSING/{request_id}/LOGS/"
  backup_path: "/u1/techteam/PFM_CUSTOM_SCRIPTS/APT_TOOL_DB/REQUEST_PROCESSING/{request_id}/PURGED_DATA"
  tracking_helper: "/u1/techteam/PFM_CUSTOM_SCRIPTS/APT_TOOL_DB/SCRIPTS/trackingHelper.sh"

# Alert Configuration
alerts:
  email_recipients: "akhan@aptroid.com,datateam@aptroid.com"
  sender: "attributionalerts@zds-db3-02.bo3.e-dialog.com"

# Application Constants
constants:
  pagination:
    defaultPageSize: 50
    maxPageSize: 500
  requests:
    maxRetries: 3
    timeoutMs: 300000
    validStatuses: ["P", "C", "E", "RW", "RE"]
    defaultOldDeliveredPercentage: 65  # Default value for old_delivered_per field
    columns:
      requestIdSuppression: "request_id_supp"
      priorityFile: "priority_file"
      priorityFilePercentage: "priority_file_per"
      timeStampPath: "timestamp_report_path"
  files:
    maxUploadSize: 104857600  # 100MB
    allowedTypes: [".csv", ".xlsx", ".txt"]
    uploadPath: "/uploads"
  upload:
    max_size_mb: 50
    allowed_extensions: ["csv", "xlsx", "xls"]
    base_path: "REPORT_FILES"
    validation:
      immediate: true
      csv_delimiter: "|"
    naming:
      timestamp_prefix: "TimeStampReport"
      cpm_prefix: "CPM_Report"
      decile_prefix: "Decile_Report"
      format: "{prefix}_{client_name}_{week_name}.csv"
  modules:
    1: "trt"
    2: "logs"
    3: "suppression"
    4: "source"
    5: "report"
    6: "timestamps"
    7: "ip"
  api:
    baseUrl: "http://localhost:5000"
    timeout: 30000
    retries: 3
    cors:
      allowedOrigins:
        - "http://localhost:3009"
        - "http://127.0.0.1:3009"
        - "http://localhost:3010"
        - "http://127.0.0.1:3010"
        - "http://localhost:3011"
        - "http://127.0.0.1:3011"
        - "http://localhost:3012"
        - "http://127.0.0.1:3012"
      allowedHeaders: ["Content-Type", "Accept", "Authorization"]
      allowedMethods: ["GET", "POST", "OPTIONS"]

# ZETA Organization Theme
theme:
  colors:
    primary: "#334155"        # Professional Slate Gray
    secondary: "#475569"      # Medium Slate
    accent: "#0F172A"         # Dark Slate
  gradients:
    client: "from-slate-50 to-gray-100"
    date: "from-amber-50 to-orange-50"
    file: "from-green-50 to-emerald-50"
    report: "from-yellow-50 to-amber-50"
    suppression: "from-violet-50 to-purple-50"
    priority: "from-blue-50 to-cyan-50"
    query: "from-rose-50 to-pink-50"
    submit: "from-slate-600 to-gray-700"
  sections:
    client:
      title: "Client Information"
      icon: "check-circle"
      borderColor: "border-slate-300"
    date:
      title: "Campaign Dates"
      icon: "calendar"
      borderColor: "border-amber-300"
    file:
      title: "File Options"
      icon: "cog"
      borderColor: "border-green-300"
    report:
      title: "Report Paths"
      icon: "folder"
      borderColor: "border-yellow-300"
    suppression:
      title: "Suppression List"
      icon: "shield"
      borderColor: "border-violet-300"
    priority:
      title: "Data Priority Settings"
      icon: "database"
      borderColor: "border-blue-300"
    query:
      title: "SQL Query"
      icon: "code"
      borderColor: "border-rose-300"

# Security Configuration
security:
  rateLimit:
    windowMs: 900000    # 15 minutes
    maxRequests: 100
  cors:
    credentials: true
  headers:
    contentSecurityPolicy: false
    hsts: true

# Environment Settings
environment: "development"
debug: true
logging:
  level: "DEBUG"
  format: "%(asctime)s [%(levelname)s] %(name)s: %(message)s"

# Feature Flags
features:
  file_upload_enabled: true
  hybrid_input_mode: true
  realtime_validation: true

# Frontend Configuration
frontend:
  development:
    port: 3009
    host: "localhost"
  build:
    outputDir: "dist"
    assetsDir: "assets"

# Backend Configuration
backend:
  development:
    port: 5000
    host: "0.0.0.0"
  debug: true
  threading: true
  reloader: false
